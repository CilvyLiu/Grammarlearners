# 🕵️ 语法侦探社：系列案件记录 📜

> “语言的线索，绝不容许一丝偏差。”—— 侦探守则第一条

本项目是一套互动式英语语法学习挑战，通过模拟“侦探破案”的方式，帮助学习者系统掌握关键语法结构。每个案件都是一次对细节和逻辑的严苛考验。

## 🌟 案件档案总览 (PROJECT OVERVIEW)

本系列目前包含两个已完成的独立案件：

| 案件编号 | 案件名称 | 核心语法点 | 核心挑战页 | 关联文件 |
| :---: | :--- | :--- | :--- | :--- |
| **CASE 1** | **语法幽灵的秘密习惯** | Used to do vs. Be used to doing/Noun | Page 2 & 3 | `index.html` |
| **CASE 2** | **定语从句的悬案记录** | 限制性 (R) vs. 非限制性 (N) 定语从句 | Page 5 | `indexv3.html` (推测) |

---

## 🔍 案件 1：语法幽灵的秘密习惯 (Used to do)

### 核心结构：

本案旨在区分间谍的**过去常态 (Used to do)** 与**当前习惯状态 (Be used to doing/Noun)**。

| 结构名称 | 核心特征 | 句式示例 |
| :--- | :--- | :--- |
| **Used to do** | 过去常做 (现在不再)，后接**动词原形**。 | `He used to work late.` |
| **Be used to doing/Noun** | 习惯于某动作或事物，后接**动名词/名词**。 | `He is used to working late.` |

### 用户体验与修复：

* **Page 2 (选择填空):** 快速测试对两种结构的肯定、否定、疑问句式的判断能力。
* **Page 3 (现场速写):** 要求用户完成涵盖所有七种句式（Used to do 3种，Be used to doing/Noun 4种）的写作挑战。
* **UI 优化 (已完成):** * 已统一正文和选择题选项字体为 **26px 微软雅黑**。
    * 已优化总结表格 (`.summary-table`) 样式，**缩小表格内容字体并减少内边距**，解决大字体下文字超出边框的问题。

### 结案奖励：

* 当 Page 3 所有写作任务正确提交后，将触发 **"高级语法分析师"** 徽章奖励弹出框 (Modal)。

---

## 🔍 案件 2：定语从句的悬案记录 (Relative Clauses)

### 核心推理目标 (THE GRAMMAR CASE)

本案的核心挑战集中在 **Page 5** 的定语从句判断任务，重点在于观察标点符号。

| 概念特征 | 关键线索 (Key Clue) |
| :--- | :--- |
| **限制性 (R)** | 不可或缺，用于限定先行词 | **通常无逗号** |
| **非限制性 (N)** | 提供额外补充信息，可省略 | **总是有逗号** |

### 🎯 最终正确序列：绝不能错的“证据链”

| 推理卡 | 判定结果 | 推理依据 |
| :--- | :--- | :--- |
| 推理卡 A | **限制性 (R)** | The witness **who** saw... (无逗号) |
| 推理卡 B | **非限制性 (N)** | The brother**, who** arrived... (有逗号) |
| 推理卡 C | **非限制性 (N)** | The house**, which** is very old... (有逗号) |
| 推理卡 D | **限制性 (R)** | The piece of jewelry **that**... (无逗号，且使用了 That) |

### 🛠️ 技术侦查日志 (TECHNICAL LOG)

| 类型 | 案件关联 | 修复/新增功能 | 描述 |
| :--- | :--- | :--- | :--- |
| **Debug 修复** | CASE 2 (定语从句) | 核心逻辑反转 Bug 修复 | 放弃易出错的文本匹配，改为在 JavaScript 中使用 **元素位置索引** (`index 0` 为 R，`index 1` 为 N) 来定位用户点击的选项，确保点击与反馈的百分百同步。 |
| **UI 修复** | CASE 1 (Used to do) | 字体与布局调整 | 统一全站主体字体大小为 `26px 微软雅黑`，并解决 `grammar-summary` 块表格文字溢出的问题。 |
| **终极彩蛋** | CASE 2 (定语从句) | “真相只有一个！” | 当 Page 5 所有推理卡判断正确后，点击最终按钮，将触发 `conan.wav` 音效播放和红色提示文本，实现彩蛋效果。 |

---

## 🏛️ 侦探事务所成员 (CREDITS)

这份系列案件的成功侦破，是创意与代码默契合作的结果。

| 角色 (Role) | 姓名 (Agent) | 贡献 (Contribution) |
| :--- | :--- | :--- |
| 创意来源与项目总指挥 | Skygazer111 🌟 | 提出项目核心概念、内容构建、功能需求 |
| 代码修改与 Debug 专家 | gemini 🤖 | 解决 Page 5 逻辑反转、修复 UI Bug、实现柯南彩蛋功能 |

---

## 🚀 行动指南 (HOW TO EXECUTE)

1.  确保您拥有 `index.html` (Used to do 案件) 和/或 `indexv3.html` (定语从句案件) 文件，以及配套的 `conan.wav` 音频文件（仅用于定语从句案件），并将它们放在同一目录下。
2.  使用任何现代浏览器（如 Chrome, Edge, Firefox）直接双击打开相应的 HTML 文件。
3.  开始您的语法侦探之旅！
